<div class="step-card">
    <h6 class="fw-bold text-teal mb-3">D. Fisik & Klinis</h6>
    <div id="listFisik" class="row px-2">
        <p class="small text-muted">Memuat data gejala...</p>
    </div>
</div>

<script>
    const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwsa7eJo33q9AN7CDnTuJAuhCA1suexFlgXL6ApFjhgl9HZ-kcnTcAI0J4ouYyg2-k/exec"; 

    // Perbaikan fungsi muat data agar tidak 'undefined'
    async function loadMasterData() {
        try {
            const res = await fetch(SCRIPT_URL);
            const masterData = await res.json();
            window.ncpData = masterData; // Simpan ke variabel global

            let htmlFisik = "";
            // Perhatikan penggunaan 'item.gejala' (huruf kecil semua sesuai image_accb1f.jpg)
            masterData.logika_fisik_klinis.forEach((item, index) => {
                if (item.gejala) { 
                    htmlFisik += `
                        <div class="form-check col-6 mb-2">
                            <input class="form-check-input check-fisik" type="checkbox" value="${item.gejala}" id="f${index}">
                            <label class="form-check-label small" for="f${index}">${item.gejala}</label>
                        </div>`;
                }
            });
            document.getElementById('listFisik').innerHTML = htmlFisik || "<p class='small text-danger'>Data gejala kosong di spreadsheet.</p>";
        } catch(e) {
            document.getElementById('listFisik').innerHTML = "<p class='small text-danger'>Gagal koneksi database.</p>";
        }
    }

    // Panggil loadMasterData setelah login berhasil
    // (Tambahkan di bagian fungsi penanganan login yang sudah ada)
</script>
